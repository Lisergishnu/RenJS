<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.26" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link rel="icon" href="/images/favicon.png" type="image/x-icon" />

    <title>Effects and Ambients :: RenJS</title>
    
    
    <link href="/RenJS/css/nucleus.css?1506478429" rel="stylesheet">
    <link href="/RenJS/css/font-awesome.min.css?1506478429" rel="stylesheet">
    <link href="/RenJS/css/hybrid.css?1506478429" rel="stylesheet">
    <link href="/RenJS/css/featherlight.min.css?1506478429" rel="stylesheet">
    <link href="/RenJS/css/perfect-scrollbar.min.css?1506478429" rel="stylesheet">
    <link href="/RenJS/css/horsey.css?1506478429" rel="stylesheet">
    <link href="/RenJS/css/theme.css?1506478429" rel="stylesheet">
    <link href="/RenJS/css/hugo-theme.css?1506478429" rel="stylesheet">
    

    <script src="/RenJS/js/jquery-2.x.min.js?1506478429"></script>
    
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{ 
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/RenJS/api/effectandambient/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://lunafromthemoon.itch.io/renjs">RenJS</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>

<script type="text/javascript" src="/RenJS/js/lunr.min.js?1506478429"></script>
<script type="text/javascript" src="/RenJS/js/horsey.js?1506478429"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/lunafromthemoon.github.io\/RenJS";
    
</script>
<script type="text/javascript" src="/RenJS/js/search.js?1506478429"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/RenJS/intro/" title="Intro" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/intro/">
          <b>1. </b>Intro
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/RenJS/api/" title="API" class="dd-item 
        parent
        
        
        ">
      <a href="/RenJS/api/">
          <b>2. </b>API
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/showandhide/" title="Show and Hide" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/showandhide/">
          Show and Hide
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/sayandtext/" title="Say and Text" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/sayandtext/">
          Say and Text
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/playandstop/" title="Play and Stop" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/playandstop/">
          Play and Stop
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/choiceandinterrupt/" title="Choice and Interrupt" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/choiceandinterrupt/">
          Choice and Interrupt
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/var/" title="Variables" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/var/">
          Variables
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/if/" title="If" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/if/">
          If
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/scene/" title="Scene" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/scene/">
          Scene
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/wait/" title="Wait time or click" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/wait/">
          Wait time or click
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/animate/" title="Animate" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/animate/">
          Animate
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/call/" title="Call" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/call/">
          Call
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/effectandambient/" title="Effects and Ambients" class="dd-item 
        parent
        active
        
        ">
      <a href="/RenJS/api/effectandambient/">
          Effects and Ambients
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/transitions/" title="Transitions" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/transitions/">
          Transitions
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/RenJS/setup/" title="Setup" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/setup/">
          <b>3. </b>Setup
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/RenJS/gui/" title="GUI" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/gui/">
          <b>X. </b>GUI
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/RenJS/engine/" title="Engine" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/engine/">
          <b>5. </b>Engine
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fa fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable sticky-parent">
              
              <div class="sticky-spacer">
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fa fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/RenJS/'>RenJS</a> > <a href='/RenJS/api/'>API</a> > Effects and Ambients
          
         
          
         
          
           
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#ambients">Ambients</a></li>
<li><a href="#effects">Effects</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>Effects and Ambients</h1>
          

        



<p>These actions allow you to show visual and sound effects. The difference between them is <em>effect</em> action is an instant effect that ends after its execution, and <em>ambient</em> effects perdure over time. For example, an <em>effect</em> can be a thunder, while an <em>ambient</em> can be rain.</p>

<pre><code class="language-yaml">    - ambient ambient_id:
      param1: value1
      param2: value2
    - effect effect_id:
      param3: value3
      param4: value4
    - ambient CLEAR:

</code></pre>

<p>There are a few ambients and effects already coded, but these depend almost entirely on the kind of game you&rsquo;re making. You can check the defined ambients and effects and tailor them to your needs.
The effects and ambients usually use extra assets, either images, spritesheets, music and even code. All of this should be loaded in the <em>extra</em> section of the setup file. Check the <a href="/../../Setup">Setup Guide</a> for more info about this file.</p>

<h3 id="ambients">Ambients</h3>

<p>The ambients are defined inside the file <em>RenJS/Ambient.js</em>, inside the map called RenJS.ambient. A special ambient called CLEAR takes care of stopping any ambient set before. Other ambients are:</p>

<ul>
<li><strong>BGS</strong>: Adds a looped background sound and nothing more. The sound id should be specified with the param <em>sfx</em>.</li>
<li><strong>RAIN</strong>: Starts a particle emitter and background sound for a rain mood. Additional assets:

<ul>
<li>image:

<ul>
<li><strong>rain</strong>: A sprite of the <a href="/RenJS/img/rain.png">raindrop</a>.</li>
</ul></li>
<li>music:

<ul>
<li><strong>rain</strong>: A loopable <a href="/RenJS/audio/Rain.mp3">audio</a>.</li>
</ul></li>
</ul></li>
<li><strong>SAKURA</strong>: Starts two particle emitters for a cherry blossoms falling ambient. Additional assets:

<ul>
<li>spritesheet:

<ul>
<li><strong>sakura</strong>: A sprite of the <a href="/RenJS/img/sakura-petals.png">cherry blossom</a>, with 5 frames (17x17 px).</li>
</ul></li>
</ul></li>
<li><strong>SNOW</strong>: Starts three particles emitters for a snowy mood. Additional assets:

<ul>
<li>spritesheet:

<ul>
<li><strong>snowflakes</strong>: A sprite of the <a href="/RenJS/img/snowflakes.png">small snowflakes</a>, with 5 frames (17x17 px).</li>
<li><strong>snowflakes_large</strong>: A sprite of the <a href="/RenJS/img/snowflakes_large.png">large snowflakes</a>, with 5 frames (64x64 px).</li>
</ul></li>
</ul></li>
<li><strong>DRUGS</strong>: A strange hallucinogenic effect. No additional assets required. For this effect to work the game mode should be WEBGL (set the game mode on the file <em>RenJSBootstrap.js</em>).</li>
<li><strong>BADTRIP</strong>: An extra effect to call after the DRUGS effect.</li>
</ul>

<p>To make your own effect you can either modify the ones already coded, or make a completely different thing taking advantage of the visual effects and sprite manipulation capabilities of Phaser. The only thing you should remember is to call the funtion <em>RenJS.resolve()</em> when you finish. This function tells the automat that controls the story that it can continue with the next action. Another usefull thing is to add a function to call when the ambient is cleared. You can push a function to <em>RenJS.ambient.clearFunctions</em> and it will be called when the ambient CLEAR is set. This way you can destroy any sprite, stop any music, etc, that your ambient uses.</p>

<h3 id="effects">Effects</h3>

<p>Very similar to ambients, the effects are defined inside the <em>RenJS/Effects.js</em> file. Some of the effects available are:</p>

<ul>
<li><strong>SHAKE</strong>: Screen shake!</li>
<li><strong>SOUND</strong>: It takes a param with the name <em>sfx</em> and reproduces it. It&rsquo;s the same as the <em>play</em> action.</li>
<li><strong>ROLLINGCREDITS</strong>: Sets a black screen and shows a list of text defined on the param <em>text</em>. It also takes the param <em>endGame</em> to directly end the game after the effect is over. The text list can have <em>null</em> lines that will be empty lines.</li>
</ul>

<pre><code class="language-yaml">  - effect ROLLINGCREDITS:
    endGame: true
    text:
      - Thank you for playing
      - Game Name
      - null
      - made by
      - lunafromthemoon
      - null
      - with
      - RenJS
      - null
      - whatever else you want to say

</code></pre>

<ul>
<li><strong>SHOWTITLE</strong>: Shows an image with a title and subtitle overimposed. The image should be loaded with the name <em>title</em>. The params <em>title</em> and <em>subtitle</em> will be shown in the middle of the image, with the first font defined in the Setup file. You can play with this effect and make up the titles however you like.</li>
<li><strong>THUNDER</strong>: Quickly shows and hides a thunder image, accompanied by a thunder sound effect. Needs extra parameters:

<ul>
<li>image:

<ul>
<li><strong>thunder</strong>: The <a href="/RenJS/img/Thunder_Effect.png">thunder image</a>.</li>
</ul></li>
<li>sfx:

<ul>
<li><strong>thunderSFX</strong>: The <a href="/RenJS/audio/thunder_strike_1.mp3">thunder sound</a>.</li>
</ul></li>
</ul></li>
<li><strong>EXPLOSION</strong>: Shows an explosion animation, with an explosion sound. Needs extra parameters:

<ul>
<li>spritesheet:

<ul>
<li><strong>explosion</strong>: The <a href="/RenJS/img/explosion.png">explosion</a> animation (274x300px).</li>
</ul></li>
<li>sfx:

<ul>
<li><strong>explosionSound</strong>: The explosion sound.</li>
</ul></li>
</ul></li>
</ul>


<footer class=" footline" >
	
</footer>

        
        </div> 
      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


        
            <a class="nav nav-prev" href="/RenJS/api/call/" title="Call"> <i class="fa fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="/RenJS/api/transitions/" title="Transitions" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/RenJS/js/clipboard.min.js?1506478429"></script>
    <script src="/RenJS/js/perfect-scrollbar.min.js?1506478429"></script>
    <script src="/RenJS/js/perfect-scrollbar.jquery.min.js?1506478429"></script>
    <script src="/RenJS/js/jquery.sticky-kit.min.js?1506478429"></script>
    <script src="/RenJS/js/featherlight.min.js?1506478429"></script>
    <script src="/RenJS/js/html5shiv-printshiv.min.js?1506478429"></script>
    <script src="/RenJS/js/highlight.pack.js?1506478429"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/RenJS/js/modernizr.custom.71422.js?1506478429"></script>
    <script src="/RenJS/js/learn.js?1506478429"></script>
    <script src="/RenJS/js/hugo-learn.js?1506478429"></script>

    <link href="/RenJS/mermaid/mermaid.css?1506478429" type="text/css" rel="stylesheet" />
    <script src="/RenJS/mermaid/mermaid.js?1506478429"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>
