<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.26" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link rel="icon" href="/images/favicon.png" type="image/x-icon" />

    <title>Call :: RenJS</title>
    
    
    <link href="/RenJS/css/nucleus.css?1506478429" rel="stylesheet">
    <link href="/RenJS/css/font-awesome.min.css?1506478429" rel="stylesheet">
    <link href="/RenJS/css/hybrid.css?1506478429" rel="stylesheet">
    <link href="/RenJS/css/featherlight.min.css?1506478429" rel="stylesheet">
    <link href="/RenJS/css/perfect-scrollbar.min.css?1506478429" rel="stylesheet">
    <link href="/RenJS/css/horsey.css?1506478429" rel="stylesheet">
    <link href="/RenJS/css/theme.css?1506478429" rel="stylesheet">
    <link href="/RenJS/css/hugo-theme.css?1506478429" rel="stylesheet">
    

    <script src="/RenJS/js/jquery-2.x.min.js?1506478429"></script>
    
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{ 
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/RenJS/api/call/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://lunafromthemoon.itch.io/renjs">RenJS</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>

<script type="text/javascript" src="/RenJS/js/lunr.min.js?1506478429"></script>
<script type="text/javascript" src="/RenJS/js/horsey.js?1506478429"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/lunafromthemoon.github.io\/RenJS";
    
</script>
<script type="text/javascript" src="/RenJS/js/search.js?1506478429"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/RenJS/intro/" title="Intro" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/intro/">
          <b>1. </b>Intro
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/RenJS/api/" title="API" class="dd-item 
        parent
        
        
        ">
      <a href="/RenJS/api/">
          <b>2. </b>API
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/showandhide/" title="Show and Hide" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/showandhide/">
          Show and Hide
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/sayandtext/" title="Say and Text" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/sayandtext/">
          Say and Text
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/playandstop/" title="Play and Stop" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/playandstop/">
          Play and Stop
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/choiceandinterrupt/" title="Choice and Interrupt" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/choiceandinterrupt/">
          Choice and Interrupt
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/var/" title="Variables" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/var/">
          Variables
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/if/" title="If" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/if/">
          If
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/scene/" title="Scene" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/scene/">
          Scene
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/wait/" title="Wait time or click" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/wait/">
          Wait time or click
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/animate/" title="Animate" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/animate/">
          Animate
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/call/" title="Call" class="dd-item 
        parent
        active
        
        ">
      <a href="/RenJS/api/call/">
          Call
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/effectandambient/" title="Effects and Ambients" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/effectandambient/">
          Effects and Ambients
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/RenJS/api/transitions/" title="Transitions" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/api/transitions/">
          Transitions
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/RenJS/setup/" title="Setup" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/setup/">
          <b>3. </b>Setup
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/RenJS/gui/" title="GUI" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/gui/">
          <b>X. </b>GUI
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/RenJS/engine/" title="Engine" class="dd-item 
        
        
        
        ">
      <a href="/RenJS/engine/">
          <b>5. </b>Engine
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fa fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable sticky-parent">
              
              <div class="sticky-spacer">
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fa fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/RenJS/'>RenJS</a> > <a href='/RenJS/api/'>API</a> > Call
          
         
          
         
          
           
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#interesting-resources">Interesting resources</a></li>
<li><a href="#phaser">Phaser</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>Call</h1>
          

        



<p>The <em>call</em> action allows you to call your very own javascript functions.</p>

<pre><code class="language-yaml">    
    - call function_name:
      param1: value1
      param2: value2
      ...

</code></pre>

<p>The function must be located in the file RenJS/CustomContent.js, inside the map customContent defined there.</p>

<pre><code class="language-js">RenJS.customContent = {
	//put here your own functions

	function_name: function (params) {
	  console.log(params.param1);
	  console.log(params.param2);
	  RenJS.resolve();
	}

}
</code></pre>

<p>You can do anything inside this function. The most important thing to remember is to call <em>RenJS.resolve()</em> after all your processing is finished. This usually means it should be at the end of the function, but it could be in a callback for an asynchronous method.
The <em>RenJS.resolve()</em> function tells the automat that it can continue with the story and execute the next action after the call.</p>

<h3 id="interesting-resources">Interesting resources</h3>

<p>RenJS provides all of the information and state of the game for you to use in your own function, some of the most important things to check are:</p>

<ul>
<li><strong>RenJS.waitForClick(callback)</strong>: This function will make the game wait until the player clicks anywhere on the screen. If callback is not defined, the action executed after the click will be RenJS.resolve(). Similar to this function there&rsquo;s also  <strong>waitTimeout(time,callback)</strong> and **waitForClickOrTimeout(time,callback)<em>s</em>.</li>
<li><strong>RenJS.logicManager.vars</strong>: This is the map of all the story variables set during the game with the action <em>var</em>.</li>
<li><strong>RenJS.bgManager.current</strong>: The current background sprite. *RenJS.bgManager.backgrounds** contains all of the backgrounds.</li>
<li><strong>RenJS.bgManager.showing</strong>: A map with all the characters currently on screen with look, position and if it&rsquo;s flipped. <strong>RenJS.bgManager.characters</strong> contains all of the characters, with name, speechColour and looks (as a map of Sprites).</li>
<li><strong>RenJS.cgsManager.current</strong>: A map with all the cgs currently on screen. <strong>RenJS.bgManager.cgs</strong> contains all of the cgs sprites.</li>
<li><strong>RenJS.save(slot)</strong> and <strong>RenJS.load(slot)</strong>: Saves and load on a specific slot.</li>
<li><strong>RenJS.setBlackOverlay()</strong> and <strong>RenJS.removeBlackOverlay()</strong>: Fades in and out a black overlay over everything in the game, including the GUI.</li>
<li><strong>RenJS.pause()</strong> and <strong>RenJS.unpause()</strong>: Pauses and unpauses the game.</li>
<li><strong>RenJS.onInterpretActions</strong>: Map of functions called every time an action is interpreted, meaning on each step of the story. The only defined function at the start of the game is &lsquo;updateStack&rsquo; which controls the execution stack of the story, but you can add and remove functions that would then execute every time an action is interpreted.</li>
</ul>

<h3 id="phaser">Phaser</h3>

<p>As RenJS is built over <a href="https://phaser.io/">Phaser</a>, you can use any Phaser method to do whatever you want. Just be careful not to break everything!</p>


<footer class=" footline" >
	
</footer>

        
        </div> 
      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


        
            <a class="nav nav-prev" href="/RenJS/api/animate/" title="Animate"> <i class="fa fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="/RenJS/api/effectandambient/" title="Effects and Ambients" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/RenJS/js/clipboard.min.js?1506478429"></script>
    <script src="/RenJS/js/perfect-scrollbar.min.js?1506478429"></script>
    <script src="/RenJS/js/perfect-scrollbar.jquery.min.js?1506478429"></script>
    <script src="/RenJS/js/jquery.sticky-kit.min.js?1506478429"></script>
    <script src="/RenJS/js/featherlight.min.js?1506478429"></script>
    <script src="/RenJS/js/html5shiv-printshiv.min.js?1506478429"></script>
    <script src="/RenJS/js/highlight.pack.js?1506478429"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/RenJS/js/modernizr.custom.71422.js?1506478429"></script>
    <script src="/RenJS/js/learn.js?1506478429"></script>
    <script src="/RenJS/js/hugo-learn.js?1506478429"></script>

    <link href="/RenJS/mermaid/mermaid.css?1506478429" type="text/css" rel="stylesheet" />
    <script src="/RenJS/mermaid/mermaid.js?1506478429"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>
